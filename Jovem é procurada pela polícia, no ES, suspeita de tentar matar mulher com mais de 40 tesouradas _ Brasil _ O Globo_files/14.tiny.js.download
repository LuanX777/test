(window.webpackJsonp=window.webpackJsonp||[]).push([[14,15],{107:function(t,e,o){var r=o(108);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},108:function(o,t){function r(t,e){return o.exports=r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o.exports.__esModule=!0,o.exports.default=o.exports,r(t,e)}o.exports=r,o.exports.__esModule=!0,o.exports.default=o.exports},109:function(t,e,o){var r=o(27).default,n=o(110);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},110:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},111:function(e,t){function o(t){return e.exports=o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},e.exports.__esModule=!0,e.exports.default=e.exports,o(t)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},89:function(t,e,o){"use strict";o.r(e);var r=o(4),r=o.n(r),n=o(3),s=o.n(n);o(0);e.default=r()(function t(){s()(this,t),this.oidcServiceUrl="https://www.oidcservice.globo.com"})},99:function(t,e,o){"use strict";o.r(e);var r=o(5),n=o.n(r),r=o(3),s=o.n(r),r=o(4),a=o.n(r),r=o(107),i=o.n(r),r=o(109),u=o.n(r),r=o(111),c=o.n(r),r=o(1),f=o.n(r),r=o(89),p=o(24),d=o(0),l=o(44),b=o(46);function h(o){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c()(o);return t=r?(t=c()(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),u()(this,t)}}window.accessAuthorizationData={};o=function(t){i()(r,t);var e,o=h(r);function r(){return s()(this,r),o.call(this)}return a()(r,[{key:"get",value:(e=n()(f.a.mark(function t(e){var o,r,n,s,a,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.glbid,o=void 0===o?"":o,n=e.sessionId,n=void 0===n?"":n,s=e.accessToken,s=void 0===s?"":s,r=e.product,r=void 0===r?{}:r,Object(d.consoleDebug)("[AccessAuthorization] get()"),(o||n||s)&&Object.keys(r).length){t.next=6;break}return t.next=5,p.default.verifyUserData();case 5:return t.abrupt("return",null);case 6:return n={ipUsuario:"127.0.0.1",codigoProduto:r.code,"token-autenticacao":o},s="".concat("https://api.infoglobo.com.br","/relacionamento/v3/funcionalidade/").concat(r.id,"/autorizacao-acesso"),t.prev=8,t.next=11,b.a.request({method:"post",url:s,data:JSON.stringify(n)});case 11:if(200!==(a=t.sent).status)throw a;t.next=14;break;case 14:if(i=this.accessAuthorizationResponseFactory({responseBody:null==a?void 0:a.data}),window.accessAuthorizationData=Object(l.b)(JSON.stringify(i)),this.data)return t.next=19,p.default.verifyUserData({reason:this.data.reason});t.next=20;break;case 19:p.default.setBusUserData(this.data);case 20:return Object(d.consoleDebug)("- accessAuthorizationData ",this.data),t.abrupt("return",a);case 24:return t.prev=24,t.t0=t.catch(8),t.next=28,p.default.verifyUserData();case 28:return Object(d.consoleDebug)("- error ",t.t0),t.abrupt("return",t.t0);case 30:case"end":return t.stop()}},t,this,[[8,24]])})),function(t){return e.apply(this,arguments)})},{key:"data",get:function(){return Object(d.consoleDebug)("[AccessAuthorization] data()"),window.accessAuthorizationData.length?JSON.parse(Object(l.a)(window.accessAuthorizationData)):""}},{key:"accessAuthorizationResponseFactory",value:function(t){var e=t.responseBody,t=t.autorizarionType,o={authorized:e.autorizado||!1,reason:e.motivo||"",hasTermUse:e.temTermoDeUso||!1,sub:{id:e.usuarioId||"",under18:e.menor18Anos||""},subscriptionCode:e.codigoAssinatura||"",navigationLink:e.link_navegacao||"",link:e.link||[]};return"glbid"===(void 0===t?"glbid":t)&&(o.glbid=e.tokenAcesso),o}}]),r}(r.default);e.default=o}}]);